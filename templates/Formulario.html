<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Datos del Postulante</title>
  <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
  <div class="page">
    <div class="header">
      <img class="header-img" src="/static/img/mml.png" alt="mml" id="logoAdmin">
    </div>

    <div class="card">
      <div class="topline">
        <div class="section-title">
          Registro de Postulantes - CAS 2026 &nbsp; MML-OGA-OGRH
        </div>
      </div>

      <div class="section-title">DATOS DEL POSTULANTE</div>

      <!-- Barra de progreso -->
      <div class="form-progress">
        <div class="progress-bar-bg">
          <div class="progress-bar" id="progressBar"></div>
        </div>
        <span class="progress-text"><span id="progressCount">0</span>/12 campos completados</span>
      </div>

      <form id="formPostulante" novalidate>

        <!-- NUEVO CAMPO: √ÅREA -->
        <div class="row">
          <label>√Årea: <span style="color:#b00020;">*</span></label>
          <select name="area" id="area" required>
            <option value="" selected disabled>Seleccione un √°rea</option>
            <option value="GGRD">Gerencia de Gesti√≥n del Riesgo de Desastres</option>
            <option value="GSCGA">Gerencia de Servicios a la Ciudad y Gesti√≥n Ambiental</option>
            <option value="GFC">Gerencia de Fiscalizaci√≥n y Control</option>
            <option value="GSC">Gerencia de Seguridad Ciudadana</option>
            <option value="GDE">Gerencia de Desarrollo Econ√≥mico</option>
          </select>
          <span class="error-message"></span>
        </div>

        <!-- CAMPO CONVOCATORIA (ahora din√°mico) -->
        <div class="row">
          <label>Convocatoria: <span style="color:#b00020;">*</span></label>
          <select name="convocatoria" id="convocatoria" required disabled>
            <option value="" selected disabled>Primero seleccione un √°rea</option>
          </select>
          <span class="error-message"></span>
        </div>

        <!-- ‚úÖ CAMPO APELLIDOS (SEPARADO) -->
        <div class="row">
          <label>Apellidos: <span style="color:#b00020;">*</span></label>
          <input
            name="apellidos"
            id="apellidos"
            type="text"
            placeholder="Ingrese sus apellidos completos"
            required
            minlength="3"
            maxlength="100"
            autocomplete="family-name"
            style="text-transform: uppercase;"
          />
          <span class="error-message"></span>
        </div>

        <!-- ‚úÖ CAMPO NOMBRES (SEPARADO) -->
        <div class="row">
          <label>Nombres: <span style="color:#b00020;">*</span></label>
          <input
            name="nombres"
            id="nombres"
            type="text"
            placeholder="Ingrese sus nombres completos"
            required
            minlength="2"
            maxlength="100"
            autocomplete="given-name"
            style="text-transform: uppercase;"
          />
          <span class="error-message"></span>
        </div>

        <div class="row">
          <label>Tipo de Documento: <span style="color:#b00020;">*</span></label>
          <select name="tipo_documento" id="tipo_documento" required>
            <option value="" selected disabled>Seleccione tipo de documento</option>
            <option value="DNI">DNI</option>
            <option value="CE">Carnet de Extranjer√≠a</option>
          </select>
          <span class="error-message"></span>
        </div>

        <div class="row">
          <label>N¬∞ de Documento: <span style="color:#b00020;">*</span></label>
          <input
            name="numero_documento"
            id="numero_documento"
            type="text"
            inputmode="numeric"
            placeholder="Ingrese n√∫mero de documento"
            required
            maxlength="8"
          />
          <span class="error-message"></span>
        </div>

        <div class="row">
          <label>Fecha de Nacimiento: <span style="color:#b00020;">*</span></label>
          <input 
            name="fecha_nacimiento" 
            id="fecha_nacimiento"
            type="date" 
            required 
          />
          <span class="error-message"></span>
        </div>

        <div class="row">
          <label>Sexo: <span style="color:#b00020;">*</span></label>
          <select name="sexo" id="sexo" required>
            <option value="" selected disabled>Seleccione una opci√≥n</option>
            <option value="Masculino">Masculino</option>
            <option value="Femenino">Femenino</option>
          </select>
          <span class="error-message"></span>
        </div>

        <div class="row">
          <label>Celular: <span style="color:#b00020;">*</span></label>
          <input
            name="celular"
            id="celular"
            type="tel"
            inputmode="tel"
            placeholder="Ej: 987654321"
            required
            maxlength="9"
            autocomplete="tel"
          />
          <span class="error-message"></span>
        </div>

        <div class="row">
          <label>Correo Electr√≥nico: <span style="color:#b00020;">*</span></label>
          <input
            name="correo"
            id="correo"
            type="email"
            placeholder="correo@ejemplo.com"
            required
            autocomplete="email"
          />
          <span class="error-message"></span>
        </div>

        <div class="row">
          <label>¬øPertenece a FF.AA.?:</label>
          <select name="fuerzas_armadas" id="fuerzas_armadas">
            <option value="" selected disabled>Seleccione una opci√≥n</option>
            <option value="Si">S√≠</option>
            <option value="No">No</option>
          </select>
          <span class="error-message"></span>
        </div>

        <div class="row">
          <label>Personal con Discapacidad:</label>
          <select name="tiene_discapacidad" id="tiene_discapacidad">
            <option value="" selected disabled>Seleccione una opci√≥n</option>
            <option value="Si">S√≠</option>
            <option value="No">No</option>
          </select>
          <span class="error-message"></span>
        </div>

        <div class="row" id="row_tipo_discapacidad" style="display: none;">
          <label>¬øQu√© discapacidad tiene?:</label>
          <input
            name="tipo_discapacidad"
            id="tipo_discapacidad"
            type="text"
            placeholder="Especifique qu√© discapacidad tiene"
            maxlength="100"
            autocomplete="off"
          />
          <span class="error-message"></span>
        </div>

        <!-- Pol√≠tica de privacidad -->
        <div class="privacy-row">
          <input type="checkbox" id="privacidad" name="privacidad" required>
          <label for="privacidad" class="privacy-label">
            He le√≠do y acepto la <a href="#" id="linkPrivacidad" target="_blank">Pol√≠tica de Privacidad y Protecci√≥n de Datos Personales</a> <span style="color:#b00020;">*</span>
          </label>
          <span class="error-message privacy-error"></span>
        </div>

        <!-- Bot√≥n de env√≠o -->
        <button class="btn btn-primary" type="submit" id="btnSubmit">
          <span class="btn-icon">üì§</span>
          Enviar Postulaci√≥n
        </button>

        <div id="msg" class="msg" aria-live="polite"></div>

      </form>
    </div>
  </div>

  <!-- Toast container -->
  <div class="toast-wrap" id="toastWrap"></div>

  <!-- JavaScript externo -->
  <script src="/static/app.js"></script>
  
  <!-- JavaScript para el selector din√°mico de convocatorias -->
  <script>
    // Definir las convocatorias por √°rea
    const convocatoriasPorArea = {
      'GGRD': [
        'N¬∞001-2026 SUPERVISOR (A) DE PREVENCIONISTA EN GESTI√ìN DEL RIESGO DE DESASTRES',
        'N¬∞002-2026 PREVENCIONISTA EN GESTI√ìN DEL RIESGO DE DESASTRES',
        'N¬∞003-2026 NOTIFICADOR (A)',
        'N¬∞004-2026 CHOFER',
        'N¬∞005-2026 ESPECIALISTA DE CAMPO EN PREVENCI√ìN, REDUCCI√ìN Y RECONSTRUCCI√ìN',
        'N¬∞006-2026 ESPECIALISTA DE CAMPO EN PREPARACI√ìN Y PREVENCI√ìN',
        'N¬∞007-2026 ENCARGADO DE FLOTA VEH√çCULAR',
        'N¬∞008-2026 CAPACITADOR EN DEFENSA CIVIL',
        'N¬∞009-2026 OPERADOR DEL M√ìDULO DE COMUNICACIONES DEL CENTRO DE OPERACIONES DE EMERGENCIA REGIONAL',
        'N¬∞010-2026 OPERADOR DEL M√ìDULO DE OPERACIONES DEL CENTRO DE OPERACIONES DE EMERGENCIA REGIONAL',
        'N¬∞011-2026 OPERADOR DEL M√ìDULO DE MONITOREO Y AN√ÅLISIS DEL CENTRO DE OPERACIONES DE EMERGENCIA REGIONAL',
        'N¬∞012-2026 INGENIERO CIVIL',
        'N¬∞013-2026 INSPECTOR T√âCNICO DE SEGURIDAD EN EDIFICACIONES'
      ],
      'GSCGA': [
        'N¬∞014-2026 OPERARIO DE BARRIDO',
        'N¬∞015-2026 OPERARIOS DE RECOLECCION DE RESIDUOS SOLIDOS',
        'N¬∞016-2026 AYUDANTES DE CONSTRUCCI√ìN',
        'N¬∞017-2026 AYUDANTES DE TECNICO ELECTRICISTA',
        'N¬∞018-2026 OPERARIOS DE APOYO DE JARDINER√çA',
        'N¬∞019-2026 PODADOR DE ARBOLES'
      ],
      'GFC': [
        'N¬∞020-2026 INSPECTOR MUNICIPAL',
        'N¬∞021-2026 INSPECTOR DE GIR',
        'N¬∞022-2026 SUPERVISOR DE CAMPO'
      ],
      'GSC': [
        'N¬∞023-2026 SERENO A PIE',
        'N¬∞024-2026 OPERADOR(A) DE CAMARAS DE VIDEOVIGILANCIA',
        'N¬∞025-2026 SERENO TACTICO - UNOES',
        'N¬∞026-2026 SERENO MOTORIZADO',
        'N¬∞027-2026 SERENO CHOFER',
        'N¬∞028-2026 SUPERVISOR(A) CECOP',
        'N¬∞029-2026 SUPERVISOR(A)',
        'N¬∞030-2026 INGENIERO ELECTR√ìNICO'
      ],
      'GDE': [
        'N¬∞031-2026 APOYO OPERATIVO',
        'N¬∞032-2026 AUXILIAR AUDIOVISUAL',
        'N¬∞033-2026 AUXILIAR DE TRABAJOS DE CAMPO',
        'N¬∞034-2026 CHOFER',
        'N¬∞035-2026 COORDINADOR AUDIOVISUAL',
        'N¬∞036-2026 COORDINADOR DE CAMPO',
        'N¬∞037-2026 COORDINADOR T√âCNICO DE CAMPO',
        'N¬∞038-2026 GUARDI√ÅN',
        'N¬∞039-2026 GUIA TUR√çSTICO 1',
        'N¬∞040-2026 GUIA TUR√çSTICO 2',
        'N¬∞041-2026 INSPECTOR DE RECOJO DE INFORMACI√ìN DE CAMPO',
        'N¬∞042-2026 NOTIFICADOR',
        'N¬∞043-2026 OPERARIO DE MANTENIMIENTO DE INFRAESTRUCTURA',
        'N¬∞044-2026 OPERARIO DE MANTENIMIENTO Y LIMPIEZA DE INMUEBLES',
        'N¬∞045-2026 OPERARIO DE PARQUEO VEHICULAR',
        'N¬∞046-2026 OPERARIO DE LIMPIEZA Y COBRANZA DE BA√ëOS P√öBLICOS',
        'N¬∞047-2026 ORIENTADORES',
        'N¬∞048-2026 SUPERVISOR DE ACTIVIDADES DE CAMPO',
        'N¬∞049-2026 SUPERVISOR DE TRABAJO DE CAMPO',
        'N¬∞050-2026 SUPERVISOR T√âCNICO'
      ]
    };

    // Obtener elementos del DOM
    const selectArea = document.getElementById('area');
    const selectConvocatoria = document.getElementById('convocatoria');

    // Agregar event listener al campo √Årea
    selectArea.addEventListener('change', function() {
      const areaSeleccionada = this.value;
      
      // Limpiar el select de convocatoria
      selectConvocatoria.innerHTML = '<option value="" selected disabled>Seleccione una convocatoria</option>';
      
      // Si hay un √°rea seleccionada, cargar sus convocatorias
      if (areaSeleccionada && convocatoriasPorArea[areaSeleccionada]) {
        // Habilitar el select
        selectConvocatoria.disabled = false;
        
        // Agregar las opciones correspondientes
        convocatoriasPorArea[areaSeleccionada].forEach(convocatoria => {
          const option = document.createElement('option');
          option.value = convocatoria;
          option.textContent = convocatoria;
          selectConvocatoria.appendChild(option);
        });
      } else {
        // Deshabilitar el select si no hay √°rea seleccionada
        selectConvocatoria.disabled = true;
      }
      
      // Resetear el valor seleccionado
      selectConvocatoria.value = '';
    });
  </script>
</body>
</html>